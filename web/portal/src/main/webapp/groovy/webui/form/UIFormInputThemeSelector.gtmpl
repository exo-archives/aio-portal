<%
	import org.exoplatform.web.application.JavascriptManager;
	import org.exoplatform.portal.webui.application.UIItemThemeSelector;
  
  def rcontext = _ctx.getRequestContext() ;
  JavascriptManager jsmanager = rcontext.getJavascriptManager();
	jsmanager.importJavascript("eXo.webui.UIFormInputThemeSelector") ;
	
	def selectedCategory = uicomponent.getChild(UIItemThemeSelector.class).getSelectedCategory() ;
	String selectedThemeName = uicomponent.getChild(UIItemThemeSelector.class).getSelectedTheme() ;
%>
<div class="UIItemSelector UIFormInputThemeSelector" id="$uicomponent.id">
	<div class="LeftColumnStyle">
		<div class="ItemListContainer"><%uicomponent.renderChild(UIItemThemeSelector.class);%></div> 
		<div class="ItemDetailList">
			<div class="ItemDetailTitle">
      	<div class="TitleIcon ViewListIcon"><span></span></div>
  	    <div class="Title">Themes Preview</div>
  	    <div class="SetDefault" onclick="eXo.webui.UIFormInputThemeSelector.setDefaultTheme(this,'DefaultTheme')">
  	    	<a href="#">Set as default</a>
  	    </div>
  	    <div style="clear: both;"><span/></div>
    	</div>
			<div class="DetailView">					
					<%
						if(selectedThemeName == null || selectedThemeName.trim().length() < 1) {
							selectedThemeName = selectedCategory.getThemes().get(0) ;
						}
					%>
					<div class="UIThemeSelector $selectedThemeName">
					  <div class="WindowBarLeft">
					    <div class="WindowBarRight">
					      <div class="WindowBarCenter">
					        <div class="WindowPortletControl">
					          <div class="ControlIcon MinimizedIcon"><span></span></div>
					          <div class="ControlIcon RestoreIcon"><span></span></div>
					          <div class="ControlIcon MaximizedIcon"><span></span></div>
					          <div style="clear: left"><span></span></div>
					        </div>
					        <div class="WindowPortletInfo">
					          <div class="WindowPortletIcon Icon"><span></span></div>
					          <div class="PortletName">Title</div>
					          <div style="clear: left"><span></span></div>
					        </div>
					        <div style="clear: right"><span></span></div>
					      </div>
					    </div>
					  </div>
					  
					  <div class="MiddleDecoratorLeft">
					    <div class="MiddleDecoratorRight">
					      <div class="MiddleDecoratorCenter">
					        <div style="height: 88px;"><span></span></div>
					      </div>
					    </div>
					  </div>
					  
					  <div class="BottomDecoratorLeft">
					    <div class="BottomDecoratorRight">
					      <div class="BottomDecoratorCenter">
									<div class="ResizeArea" title="Resize Window"><span></span></div>
					        <div class="Information">Done</div>
					        <div style="clear: right"><span></span></div>
								</div>
					    </div>
					  </div>
					  
					</div>
					<div class="NameTheme">Tonic Blue Style</div>
			
			</div>
		</div>
		<div style="clear: left;"></div>
	</div>
</div>